{"version":3,"file":"component---src-pages-write-callback-tsx-d62634dcd79708cefe54.js","mappings":"iNAOe,SAAS,EAACA,GAErB,IAAMC,GAAWC,EAAAA,EAAAA,MAejB,OAbAC,EAAAA,EAAAA,YAAU,WACN,IAAMC,EAAQ,IAAIC,gBAAgBL,EAAMM,SAASC,QAE3CC,GADIJ,EAAMK,IAAI,YACLL,EAAMK,IAAI,sBAER,IAAIC,EAAAA,UAAAA,gBAA0BC,gCACtCC,SAASJ,EAASP,EAASY,WAAWC,MAAK,SAAAC,GAChD,IAAMC,EAASD,EAAOE,OAA0CC,aAC1DC,EAAYC,EAAAA,OAAAA,KAAYJ,EAAQ,UAAUK,YAChDC,EAAAA,EAAAA,UAAS,SAASH,EAHtB,GANK,GAWN,IAEII,EAAAA,cAACC,EAAAA,GAAD,KACHD,EAAAA,cAAAA,MAAAA,CAAKE,UAAU,yCAAf,eAEP,C","sources":["webpack://blockipedia/./src/pages/write/callback.tsx"],"sourcesContent":["import { Buffer } from \"buffer\"\nimport * as React from \"react\"\nimport { useEffect } from \"react\"\nimport { providers } from \"near-api-js\"\nimport { NEARAuthRoute, useContract } from \"../../components/nearAuth\"\nimport { navigate } from \"gatsby\"\n\nexport default function (props: { location: { search: string } }) {\n\n    const contract = useContract()\n\n    useEffect(() => {\n        const query = new URLSearchParams(props.location.search)\n        const _ = query.get(\"signMeta\")\n        const txHash = query.get(\"transactionHashes\")\n\n        const provider = new providers.JsonRpcProvider(process.env.NEAR_NODE_URL)\n        provider.txStatus(txHash!, contract.accountId).then(result => {\n            const value = (result.status as providers.FinalExecutionStatus).SuccessValue\n            const articleId = Buffer.from(value!, \"base64\").toString()\n            navigate(`/read/${articleId}`)\n        })\n    }, [])\n\n    return <NEARAuthRoute>\n        <div className=\"flex justify-center items-center mt-5\">Redirecting</div>\n    </NEARAuthRoute>\n}\n"],"names":["props","contract","useContract","useEffect","query","URLSearchParams","location","search","txHash","get","providers","process","txStatus","accountId","then","result","value","status","SuccessValue","articleId","Buffer","toString","navigate","React","NEARAuthRoute","className"],"sourceRoot":""}